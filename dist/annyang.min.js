"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
//! annyang
//! version : 2.6.1
//! author  : Tal Ater @TalAter
//! license : MIT
//! https://www.TalAter.com/annyang/
!function(e,n){"function"==typeof define&&define.amd?define([],function(){return e.annyang=n(e)}):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=n(e):e.annyang=n(e)}("undefined"!=typeof window?window:void 0,function(o,a){var t=o.SpeechRecognition||o.webkitSpeechRecognition||o.mozSpeechRecognition||o.msSpeechRecognition||o.oSpeechRecognition;if(!t)return null;function c(e){for(var n=arguments.length,t=Array(1<n?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];e.forEach(function(e){e.callback.apply(e.context,t)})}function e(){return r!==a}function s(e,n){-1!==e.indexOf("%c")||n?console.log(e,n||b):console.log(e)}function i(){e()||d.init({},!1)}function u(e,n,t){p.push({command:e,callback:n,originalPhrase:t}),y&&s("Command successfully loaded: %c"+t,b)}function l(e){var n;c(g.result,e);for(var t=0;t<e.length;t++){n=e[t].trim(),y&&s("Speech recognized: %c"+n,b);for(var r=0,o=p.length;r<o;r++){var a=p[r],i=a.command.exec(n);if(i){i=i.slice(1);return y&&(s("command matched: %c"+a.originalPhrase,b),i.length&&s("with parameters",i)),a.callback.apply(this,i),c(g.resultMatch,n,a.originalPhrase,e),0}}}c(g.resultNoMatch,e)}var r,f,d,p=[],g={start:[],error:[],end:[],soundstart:[],result:[],resultMatch:[],resultNoMatch:[],errorNetwork:[],errorPermissionBlocked:[],errorPermissionDenied:[]},m=0,h=0,y=!1,b="font-weight: bold; color: #00f;",w=!1,v=!1,S=/\s*\((.*?)\)\s*/g,k=/(\(\?:[^)]+\))\?/g,x=/(\(\?)?:\w+/g,R=/\*\w+/g,P=/[-{}[\]+?.,\\^$|#]/g;return d={addCommands:function(e){var n,t,r;for(t in i(),e)e.hasOwnProperty(t)&&("function"==typeof(n=o[e[t]]||e[t])?u((r=(r=t).replace(P,"\\$&").replace(S,"(?:$1)?").replace(x,function(e,n){return n?e:"([^\\s]+)"}).replace(R,"(.*?)").replace(k,"\\s*$1?\\s*"),new RegExp("^"+r+"$","i")),n,t):"object"===(void 0===n?"undefined":_typeof(n))&&n.regexp instanceof RegExp?u(new RegExp(n.regexp.source,"i"),n.callback,t):y&&s("Can not register command: %c"+t,b))},start:function(e){i(),w=(e=e||{}).paused!==a&&!!e.paused,f=e.autoRestart===a||!!e.autoRestart,e.continuous!==a&&(r.continuous=!!e.continuous),m=(new Date).getTime();try{r.start()}catch(e){y&&s(e.message)}},abort:function(){f=!1,h=0,e()&&r.abort()},pause:function(){w=!0},resume:function(){d.start()},debug:function(){y=!!(!(0<arguments.length&&arguments[0]!==a)||arguments[0])},setLanguage:function(e){i(),r.lang=e},setGrammar:function(e){window.webkitSpeechGrammarList!==a?(i(),r.grammars=e):s("Grammar customization is not supported in the current browser. Please check browser support https://caniuse.com/mdn-api_speechgrammar")},removeCommands:function(t){p=t===a?[]:(t=Array.isArray(t)?t:[t],p.filter(function(e){for(var n=0;n<t.length;n++)if(t[n]===e.originalPhrase)return!1;return!0}))},addCallback:function(e,n,t){n=o[n]||n;"function"==typeof n&&g[e]!==a&&g[e].push({callback:n,context:t||this})},removeCallback:function(e,n){function t(e){return e.callback!==n}for(var r in g)g.hasOwnProperty(r)&&(e!==a&&e!==r||(g[r]=n===a?[]:g[r].filter(t)))},isListening:function(){return v&&!w},getSpeechRecognizer:function(){return r},trigger:function(e){d.isListening()?(Array.isArray(e)||(e=[e]),l(e)):y&&s(v?"Speech heard, but annyang is paused":"Cannot trigger while annyang is aborted")},init:function(e){var n=!(1<arguments.length&&arguments[1]!==a)||arguments[1];r&&r.abort&&r.abort(),(r=new t).maxAlternatives=5,r.continuous="http:"===o.location.protocol,r.lang="en-US",r.onstart=function(){v=!0,c(g.start)},r.onsoundstart=function(){c(g.soundstart)},r.onerror=function(e){switch(c(g.error,e),e.error){case"network":c(g.errorNetwork,e);break;case"not-allowed":case"service-not-allowed":f=!1,(new Date).getTime()-m<200?c(g.errorPermissionBlocked,e):c(g.errorPermissionDenied,e)}},r.onend=function(){var e;v=!1,c(g.end),f&&(e=(new Date).getTime()-m,(h+=1)%10==0&&y&&s("Speech Recognition is repeatedly stopping and starting. See http://is.gd/annyang_restarts for tips."),e<1e3?setTimeout(function(){d.start({paused:w})},1e3-e):d.start({paused:w}))},r.onresult=function(e){if(w)return y&&s("Speech heard, but annyang is paused"),!1;for(var n=e.results[e.resultIndex],t=[],r=0;r<n.length;r++)t[r]=n[r].transcript;l(t)},n&&(p=[]),e.length&&this.addCommands(e)}}});